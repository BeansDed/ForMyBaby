
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Love Notes ðŸ’Œ</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Open+Sans:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
  <style>
    .note-form { display:grid; gap:10px; margin-top:12px; }
    .note-form input, .note-form textarea {
      width:100%; padding:12px; border-radius:12px; border:none;
      background: rgba(255,255,255,0.14); color:#fff; box-shadow: inset 0 0 0 2px rgba(255,255,255,.2);
    }
    .notes-grid {
      margin-top:14px; display:grid; gap:12px; grid-template-columns: 1fr 1fr;
    }
    .note {
      background: #fff8; color:#222; border-radius:14px; padding:12px; text-align:left;
      box-shadow: 0 8px 18px rgba(0,0,0,.2); transform: rotate(var(--r, -1deg));
    }
    .note h4 { margin: 0 0 6px; }
    .note small { opacity:.7; }
    .note-actions { display:flex; gap:8px; margin-top:10px; }
    .note button {
      background: rgba(0,0,0,.06); border:none; border-radius:10px; padding:8px 10px; cursor:pointer;
    }
    @media (max-width: 640px){ .notes-grid { grid-template-columns: 1fr; } }
  </style>
</head>
<body>
  <main class="container page">
    <h1>Love Notes ðŸ’Œ</h1>
    <p class="lead">Little messages we can write for each other. They save on your phone.</p>

    <form class="note-form" id="noteForm">
      <input id="noteTitle" placeholder="Title (e.g., For your busy day)" maxlength="60" />
      <textarea id="noteBody" rows="4" placeholder="Write something sweet..." maxlength="500"></textarea>
      <button class="love-button">âž• Add Note</button>
    </form>

    <div id="notes" class="notes-grid"></div>

    <a href="index.html" class="back-link">â¬… Back to Home</a>
  </main>
  <footer class="footer">With all my love, Ardre â€¢ <a href="index.html">Home</a></footer>

  <script>
    const KEY = 'loveNotes';
    const form = document.getElementById('noteForm');
    const title = document.getElementById('noteTitle');
    const body = document.getElementById('noteBody');
    const grid = document.getElementById('notes');

    function load(){ try{ return JSON.parse(localStorage.getItem(KEY) || '[]'); }catch{ return []; } }
    function save(list){ localStorage.setItem(KEY, JSON.stringify(list)); }
    function prettyDate(ts){ const d=new Date(ts); return d.toLocaleString(); }

    function render(){
      const list = load();
      grid.innerHTML = '';
      list.forEach((n, i) => {
        const div = document.createElement('div');
        div.className='note'; div.style.setProperty('--r', (Math.random()>.5?1:-1)*Math.random()*1.5+'deg');
        div.innerHTML = `<h4>${escapeHtml(n.title||'Untitled')}</h4>
                         <p>${escapeHtml(n.body||'')}</p>
                         <small>${prettyDate(n.ts)}</small>
                         <div class="note-actions">
                          <button data-del="${i}">Delete</button>
                         </div>`;
        grid.appendChild(div);
      });
    }

    grid.addEventListener('click', (e) => {
      const del = e.target.getAttribute('data-del');
      if(del!==null){
        const list = load(); list.splice(parseInt(del,10),1); save(list); render();
      }
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const list = load();
      list.unshift({ title: title.value.trim(), body: body.value.trim(), ts: Date.now() });
      save(list); title.value=''; body.value=''; render();
    });

    function escapeHtml(s){ return (s||'').replace(/[&<>"']/g, c=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    render();
  </script>
</body>
</html>
