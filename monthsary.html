<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="theme-color" content="#ffd1dc" />
  <title>Happy Monthsary ‚ô°</title>

  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&family=Playfair+Display:wght@400;700;900&family=Open+Sans:wght@400;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ffd1dc; --bg2:#ff9a9e; --ink:#4a2c2a;
      --rose:#ffdce9; --blush:#ffcfe1; --petal:#ffa9c9; --ivory:#fffafc; --plum:#6c3a5b;
    }
    html,body{height:100%;}
    body{
      margin:0; font-family:"Open Sans",system-ui,Segoe UI,Roboto,Arial,sans-serif;
      background:linear-gradient(135deg,var(--bg1),var(--bg2)); color:var(--ink);
      -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
      -webkit-text-size-adjust:100%; -ms-text-size-adjust:100%;
      padding-bottom:env(safe-area-inset-bottom);
      -webkit-tap-highlight-color:transparent;
    }
    .container{max-width:980px;margin:0 auto;padding:20px;}
    .page{
      background:linear-gradient(180deg,#fff,#fff7fa);
      border:2px solid #ffd6e8; border-radius:20px; padding:16px;
      box-shadow:0 18px 40px rgba(0,0,0,.08);
    }
    .back-link{
      display:inline-block; text-decoration:none; font-weight:800; margin-bottom:10px;
      background:#ffe6f0; border:2px solid #ffd3e6; padding:10px 14px; border-radius:999px;
      box-shadow:0 6px 12px rgba(255,126,177,.16); color:#8a3d70;
      touch-action:manipulation;
    }
    h1{
      margin:8px 0 4px; font-weight:900; font-size:clamp(28px,7vw,44px);
      color:#6c3a5b; line-height:1.15;
    }
    h1 span{font-family:"Parisienne",cursive; font-weight:400;}
    p{margin:0 0 10px;}

    .ribbon {
      display:inline-block; background:linear-gradient(180deg,#ffeef6,#ffd8e9);
      border:2px dashed #ffb7d4; padding:8px 14px; border-radius:14px;
      font-weight:800; letter-spacing:.3px; box-shadow:0 8px 18px rgba(255,126,177,.18);
    }
    .sub{margin-top:6px; color:#7a2e56; opacity:.9; font-weight:700; text-align:center;}

    /* live clock under the ribbon */
    .live-clock{
      margin-top:2px; text-align:center; font-weight:900; color:#8a3d70;
      letter-spacing:.5px; opacity:.9; font-size:clamp(0.95rem,3.5vw,1.05rem);
    }

    .stats-grid{
      margin-top:14px; display:grid; grid-template-columns:repeat(auto-fit,minmax(150px,1fr)); gap:10px;
    }
    .stat-card{
      background:linear-gradient(180deg,#fff,#fff7fa); border:2px solid #ffd6e8;
      border-radius:14px; padding:12px; text-align:center;
      box-shadow:0 8px 20px rgba(255,126,177,.16);
    }
    .stat-card h3{margin:2px 0 6px; font-size:1rem; color:#8a3d70;}
    .stat-card .num{font-size:clamp(1.2rem,5vw,1.6rem); font-weight:900;}
    .badges{display:flex; flex-wrap:wrap; gap:8px; justify-content:center; margin-top:10px;}
    .badge{
      padding:6px 10px; border-radius:999px; background:#ffe6f0; border:1px solid #ffd3e6;
      font-weight:700; box-shadow:0 6px 12px rgba(255,126,177,.12); font-size:.9rem;
    }
    .countdown{font-weight:900; font-size:1.05rem; margin-top:4px;}

    .typewrap{
      position:relative; background:#fff; border:2px solid #ffd6e8; border-radius:12px; padding:12px 12px 14px;
      box-shadow:0 10px 20px rgba(255,126,177,.18); margin-top:14px;
    }
    .typewrap .bar{
      height:6px; border-radius:6px; background:linear-gradient(90deg,#ffcfe1,#ffdce9,#ffeef6);
      margin:-2px -2px 8px;
    }
    pre{
      white-space:pre-wrap; margin:0; font-family:"Playfair Display",Georgia,serif; font-size:1rem;
      color:#5a2a45; line-height:1.55;
    }

    .buttons{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px;}
    .love-button{
      appearance:none; border:none; cursor:pointer; text-decoration:none; display:inline-block;
      background:#ff7fb1; color:#fff; font-weight:900; padding:12px 16px; border-radius:14px;
      box-shadow:0 10px 18px rgba(255,126,177,.25); transition:transform .05s ease, box-shadow .15s ease;
      touch-action:manipulation; min-height:44px; /* comfy tap target */
    }
    .love-button:hover{transform:translateY(-1px);}
    .love-button:active{transform:translateY(0);}
    .love-button.small{padding:10px 14px; font-weight:800; font-size:1rem;}
    .love-button.ghost{
      background:#fff; color:#8a3d70; border:2px solid #ffd3e6; box-shadow:0 8px 14px rgba(255,126,177,.18);
    }

    /* Mobile-first tweaks */
    @media (max-width: 560px){
      .container{padding:14px;}
      .page{padding:14px;}
      .buttons{flex-direction:column;}
      .love-button{width:100%; text-align:center;}
      .back-link{width:100%; text-align:center;}
      .stats-grid{grid-template-columns:1fr 1fr;}
    }
    @media (max-width: 380px){
      .stats-grid{grid-template-columns:1fr;}
    }

    /* Reduce motion support */
    @media (prefers-reduced-motion: reduce){
      *{animation-duration:0.001ms!important; animation-iteration-count:1!important; transition-duration:0.001ms!important;}
      .confetti-heart{display:none!important;}
    }

    /* Hearts confetti */
    .confetti-heart{
      position:fixed; top:-10px; font-size:var(--size,18px); pointer-events:none;
      animation:fall var(--dur,1800ms) ease-in forwards; text-shadow:0 6px 14px rgba(255,105,180,.25); z-index:9999;
    }
    @keyframes fall { to { transform: translateY(110vh) rotate(360deg); opacity:.9; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="page">
      <a class="back-link" href="index.html">‚Üê Back</a>

      <h1>Happy Monthsary, <span id="partnerName">My Baby</span>! <span aria-hidden="true">üíñ</span></h1>
      <p class="sub"><span class="ribbon">Month <span id="monthNumber">1</span> since <span id="sinceDate">2025-08-03</span></span></p>
      <p id="liveClock" class="live-clock" aria-live="polite">‚Äî</p>

      <div class="stats-grid" role="list">
        <div class="stat-card" role="listitem">
          <h3>Together Since</h3>
          <div class="num" id="sincePretty">‚Äî</div>
          <div class="badges"><span class="badge">Origin day ‚ô°</span></div>
        </div>
        <div class="stat-card" role="listitem">
          <h3>Months Together</h3>
          <div class="num" id="monthsTogether">‚Äî</div>
        </div>
        <div class="stat-card" role="listitem">
          <h3>Days Together</h3>
          <div class="num" id="daysTogether">‚Äî</div>
        </div>
        <div class="stat-card" role="listitem">
          <h3>Next Monthsary</h3>
          <div class="num" id="nextDate">‚Äî</div>
          <div class="countdown" id="countdown">‚Äî</div>
        </div>
      </div>

      <div class="typewrap" aria-live="polite">
        <div class="bar"></div>
        <pre id="typeTarget"></pre>
        <div class="buttons">
          <button id="replay" class="love-button small">Replay message</button>
          <button id="heartRain" class="love-button small">Shower with hearts</button>
          <a class="love-button" href="https://open.spotify.com/playlist/1qXCs2ifAVOtZAMDdwoD60?si=707ddf34ab2d442d" target="_blank" rel="noopener">Play our song ‚ô´</a>
        </div>
      </div>

      <div style="margin-top:14px;">
        <strong class="section-title">Small promise:</strong>
        <p>I‚Äôll keep choosing you in all the little ways ‚Äî today, next month, and every month after. ‚ô°</p>
      </div>
    </div>
  </div>

  <script>
    /* ===== personalize here ===== */
    const relationshipStart = new Date('2025-08-03'); // monthsary date
    const partner = 'My Baby';                         // partner name
    /* =========================== */

    // Helpers
    const pad = (n)=> String(n).padStart(2,'0');
    const fmtDate = (d)=> d.toLocaleDateString(undefined,{year:'numeric',month:'long',day:'numeric'});
    const fmtTime = (d)=> d.toLocaleTimeString(undefined,{hour:'2-digit',minute:'2-digit',second:'2-digit'});
    function monthDiff(a,b){
      let months = (b.getFullYear()-a.getFullYear())*12 + (b.getMonth()-a.getMonth());
      if (b.getDate() < a.getDate()) months -= 1; // full months only
      return Math.max(0, months);
    }
    function addMonths(d, n){
      const x = new Date(d.getTime());
      const day = x.getDate();
      x.setMonth(x.getMonth()+n);
      if (x.getDate() !== day) x.setDate(0); // handle month overflow
      return x;
    }

    // Header fill (static bits)
    document.getElementById('partnerName').textContent = partner;
    document.getElementById('sinceDate').textContent = relationshipStart.toISOString().slice(0,10);
    document.getElementById('sincePretty').textContent = fmtDate(relationshipStart);
    document.title = `Happy Monthsary, ${partner} ‚ô°`;

    // REAL-TIME TICK: live clock, stats, next monthsary & countdown (every second)
    function tick(){
      const now = new Date();
      // live clock
      document.getElementById('liveClock').textContent = fmtTime(now);

      // stats
      const msInDay = 86400000;
      const daysTogether   = Math.floor((now - relationshipStart)/msInDay);
      const monthsTogether = monthDiff(relationshipStart, now);
      document.getElementById('daysTogether').textContent   = daysTogether;
      document.getElementById('monthsTogether').textContent = monthsTogether;
      document.getElementById('monthNumber').textContent    = monthsTogether + 1;

      // next monthsary (rollover)
      const nextM = addMonths(relationshipStart, monthsTogether + 1);
      document.getElementById('nextDate').textContent = fmtDate(nextM);

      // countdown
      const diff = nextM - now;
      const el = document.getElementById('countdown');
      if (diff <= 0){
        el.textContent = 'It‚Äôs today! ‚ú®';
      } else {
        const d = Math.floor(diff / 86400000);
        const h = Math.floor((diff % 86400000) / 3600000);
        const m = Math.floor((diff % 3600000) / 60000);
        const s = Math.floor((diff % 60000) / 1000);
        el.textContent = `${d}d ${pad(h)}h ${pad(m)}m ${pad(s)}s`;
      }
    }
    tick();
    setInterval(tick, 1000);

    // Typewriter message
    const message = [
      "Hi, " + partner + " ‚ô°",
      "",
      "Thank you for being my favorite person.",
      "For every gentle good morning, every laugh we share,",
      "and every little moment that feels like home.",
      "",
      "Happy monthsary to us ‚Äî and to many more.",
      "I love you, always."
    ].join("\n");
    const tgt = document.getElementById('typeTarget');
    function typeText(txt, speed=18){
      tgt.textContent = "";
      let i = 0;
      (function step(){
        tgt.textContent = txt.slice(0, i++);
        if (i <= txt.length) setTimeout(step, speed);
      })();
    }
    typeText(message);
    document.getElementById('replay').addEventListener('click', ()=> typeText(message, 14));

    // Hearts rain (respect reduced motion)
    function heartRainBurst(n=30){
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
      for (let i=0;i<n;i++){
        const span = document.createElement('span');
        span.className = 'confetti-heart';
        span.textContent = ['‚ù§','üíñ','üíï','üíó'][Math.floor(Math.random()*4)];
        span.style.left = Math.random()*100 + 'vw';
        span.style.setProperty('--size', (16 + Math.random()*16)+'px');
        span.style.setProperty('--dur', (1200 + Math.random()*1600)+'ms');
        document.body.appendChild(span);
        setTimeout(()=> span.remove(), 2600);
      }
    }
    document.getElementById('heartRain').addEventListener('click', ()=> heartRainBurst(28));
  </script>
</body>
</html>
